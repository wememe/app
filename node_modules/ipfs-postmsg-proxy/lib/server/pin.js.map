{"version":3,"sources":["../../src/server/pin.js"],"names":["getIpfs","opts","add","pre","pin","rm","ls"],"mappings":";;;;;;kBAKe,UAAUA,OAAV,EAAmBC,IAAnB,EAAyB;AACtC,SAAO;AACLC,SAAK,wBAAO,cAAP,EAAuB,kBAC1B,+BAAkB,CAAlB,CAD0B,EAE1B,yBAAe,CAAf,CAF0B,EAG1BD,KAAKE,GAAL,CAAS,SAAT,CAH0B,EAI1B;AAAA;;AAAA,aAAa,0BAAUC,GAAV,EAAcF,GAAd,+BAAb;AAAA,KAJ0B,CAAvB,EAKFD,IALE,CADA;AAOLI,QAAI,wBAAO,aAAP,EAAsB,kBACxB,+BAAkB,CAAlB,CADwB,EAExB,yBAAe,CAAf,CAFwB,EAGxBJ,KAAKE,GAAL,CAAS,QAAT,CAHwB,EAIxB;AAAA;;AAAA,aAAa,2BAAUC,GAAV,EAAcC,EAAd,gCAAb;AAAA,KAJwB,CAAtB,EAKDJ,IALC,CAPC;AAaLK,QAAI,wBAAO,aAAP,EAAsB,kBACxB,+BAAkB,CAAlB,CADwB,EAExB,yBAAe,CAAf,CAFwB,EAGxBL,KAAKE,GAAL,CAAS,QAAT,CAHwB,EAIxB;AAAA;;AAAA,aAAa,2BAAUC,GAAV,EAAcE,EAAd,gCAAb;AAAA,KAJwB,CAAtB,EAKDL,IALC;AAbC,GAAP;AAoBD,C;;AA1BD;;AACA;;AACA;;AACA","file":"pin.js","sourcesContent":["import { expose } from 'postmsg-rpc'\nimport { pre } from 'prepost'\nimport { preCidFromJson } from '../serialization/cid'\nimport { preBufferFromJson } from '../serialization/buffer'\n\nexport default function (getIpfs, opts) {\n  return {\n    add: expose('ipfs.pin.add', pre(\n      preBufferFromJson(0),\n      preCidFromJson(0),\n      opts.pre('pin.add'),\n      (...args) => getIpfs().pin.add(...args)\n    ), opts),\n    rm: expose('ipfs.pin.rm', pre(\n      preBufferFromJson(0),\n      preCidFromJson(0),\n      opts.pre('pin.rm'),\n      (...args) => getIpfs().pin.rm(...args)\n    ), opts),\n    ls: expose('ipfs.pin.ls', pre(\n      preBufferFromJson(0),\n      preCidFromJson(0),\n      opts.pre('pin.ls'),\n      (...args) => getIpfs().pin.ls(...args)\n    ), opts)\n  }\n}\n"]}
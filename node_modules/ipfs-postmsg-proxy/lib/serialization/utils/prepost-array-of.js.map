{"version":3,"sources":["../../../src/serialization/utils/prepost-array-of.js"],"names":["preArrayOf","postArrayOf","index","detect","convert","args","Array","isArray","map","item","prop","res"],"mappings":";;;;;QAAgBA,U,GAAAA,U;QAWAC,W,GAAAA,W;AAXT,SAASD,UAAT,CAAqBE,KAArB,EAA4BC,MAA5B,EAAoCC,OAApC,EAA6C;AAClD,SAAO,YAAa;AAAA,sCAATC,IAAS;AAATA,UAAS;AAAA;;AAClB,QAAIC,MAAMC,OAAN,CAAcF,KAAKH,KAAL,CAAd,CAAJ,EAAgC;AAC9BG,WAAKH,KAAL,IAAcG,KAAKH,KAAL,EAAYM,GAAZ,CAAgB,UAACC,IAAD;AAAA,eAAUN,OAAOM,IAAP,IAAeL,QAAQK,IAAR,CAAf,GAA+BA,IAAzC;AAAA,OAAhB,CAAd;AACD;;AAED,WAAOJ,IAAP;AACD,GAND;AAOD;;AAED;AACO,SAASJ,WAAT,CAAsBS,IAAtB,EAA4BP,MAA5B,EAAoCC,OAApC,EAA6C;AAClD,SAAO,UAACO,GAAD,EAAS;AACd,QAAID,QAAQC,GAAR,IAAeL,MAAMC,OAAN,CAAcI,IAAID,IAAJ,CAAd,CAAnB,EAA6C;AAC3CC,UAAID,IAAJ,IAAYC,IAAID,IAAJ,EAAUF,GAAV,CAAc,UAACC,IAAD;AAAA,eAAUN,OAAOM,IAAP,IAAeL,QAAQK,IAAR,CAAf,GAA+BA,IAAzC;AAAA,OAAd,CAAZ;AACD,KAFD,MAEO,IAAI,CAACC,IAAD,IAASJ,MAAMC,OAAN,CAAcI,GAAd,CAAb,EAAiC;AACtCA,YAAMA,IAAIH,GAAJ,CAAQ,UAACC,IAAD;AAAA,eAAUN,OAAOM,IAAP,IAAeL,QAAQK,IAAR,CAAf,GAA+BA,IAAzC;AAAA,OAAR,CAAN;AACD;;AAED,WAAOE,GAAP;AACD,GARD;AASD","file":"prepost-array-of.js","sourcesContent":["export function preArrayOf (index, detect, convert) {\n  return (...args) => {\n    if (Array.isArray(args[index])) {\n      args[index] = args[index].map((item) => detect(item) ? convert(item) : item)\n    }\n\n    return args\n  }\n}\n\n// specify falsey prop for root\nexport function postArrayOf (prop, detect, convert) {\n  return (res) => {\n    if (prop && res && Array.isArray(res[prop])) {\n      res[prop] = res[prop].map((item) => detect(item) ? convert(item) : item)\n    } else if (!prop && Array.isArray(res)) {\n      res = res.map((item) => detect(item) ? convert(item) : item)\n    }\n\n    return res\n  }\n}\n"]}
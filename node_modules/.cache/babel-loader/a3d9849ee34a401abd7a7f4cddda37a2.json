{"ast":null,"code":"'use strict';\n\nvar isOptionObject = require('is-plain-obj');\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.propertyIsEnumerable;\n\nvar defineProperty = function defineProperty(obj, name, value) {\n  return Object.defineProperty(obj, name, {\n    value: value,\n    writable: true,\n    enumerable: true,\n    configurable: true\n  });\n};\n\nvar globalThis = this;\nvar defaultMergeOpts = {\n  concatArrays: false\n};\n\nvar getEnumerableOwnPropertyKeys = function getEnumerableOwnPropertyKeys(value) {\n  var keys = [];\n\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      keys.push(key);\n    }\n  }\n  /* istanbul ignore else  */\n\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(value);\n\n    for (var i = 0; i < symbols.length; i++) {\n      if (propIsEnumerable.call(value, symbols[i])) {\n        keys.push(symbols[i]);\n      }\n    }\n  }\n\n  return keys;\n};\n\nfunction clone(value) {\n  if (Array.isArray(value)) {\n    return cloneArray(value);\n  }\n\n  if (isOptionObject(value)) {\n    return cloneOptionObject(value);\n  }\n\n  return value;\n}\n\nfunction cloneArray(array) {\n  var result = array.slice(0, 0);\n  getEnumerableOwnPropertyKeys(array).forEach(function (key) {\n    defineProperty(result, key, clone(array[key]));\n  });\n  return result;\n}\n\nfunction cloneOptionObject(obj) {\n  var result = Object.getPrototypeOf(obj) === null ? Object.create(null) : {};\n  getEnumerableOwnPropertyKeys(obj).forEach(function (key) {\n    defineProperty(result, key, clone(obj[key]));\n  });\n  return result;\n}\n/**\n * @param merged {already cloned}\n * @return {cloned Object}\n */\n\n\nvar mergeKeys = function mergeKeys(merged, source, keys, mergeOpts) {\n  keys.forEach(function (key) {\n    // Do not recurse into prototype chain of merged\n    if (key in merged && merged[key] !== Object.getPrototypeOf(merged)) {\n      defineProperty(merged, key, merge(merged[key], source[key], mergeOpts));\n    } else {\n      defineProperty(merged, key, clone(source[key]));\n    }\n  });\n  return merged;\n};\n/**\n * @param merged {already cloned}\n * @return {cloned Object}\n *\n * see [Array.prototype.concat ( ...arguments )](http://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.concat)\n */\n\n\nvar concatArrays = function concatArrays(merged, source, mergeOpts) {\n  var result = merged.slice(0, 0);\n  var resultIndex = 0;\n  [merged, source].forEach(function (array) {\n    var indices = []; // `result.concat(array)` with cloning\n\n    for (var k = 0; k < array.length; k++) {\n      if (!hasOwnProperty.call(array, k)) {\n        continue;\n      }\n\n      indices.push(String(k));\n\n      if (array === merged) {\n        // Already cloned\n        defineProperty(result, resultIndex++, array[k]);\n      } else {\n        defineProperty(result, resultIndex++, clone(array[k]));\n      }\n    } // Merge non-index keys\n\n\n    result = mergeKeys(result, array, getEnumerableOwnPropertyKeys(array).filter(function (key) {\n      return indices.indexOf(key) === -1;\n    }), mergeOpts);\n  });\n  return result;\n};\n/**\n * @param merged {already cloned}\n * @return {cloned Object}\n */\n\n\nfunction merge(merged, source, mergeOpts) {\n  if (mergeOpts.concatArrays && Array.isArray(merged) && Array.isArray(source)) {\n    return concatArrays(merged, source, mergeOpts);\n  }\n\n  if (!isOptionObject(source) || !isOptionObject(merged)) {\n    return clone(source);\n  }\n\n  return mergeKeys(merged, source, getEnumerableOwnPropertyKeys(source), mergeOpts);\n}\n\nmodule.exports = function () {\n  var mergeOpts = merge(clone(defaultMergeOpts), this !== globalThis && this || {}, defaultMergeOpts);\n  var merged = {\n    foobar: {}\n  };\n\n  for (var i = 0; i < arguments.length; i++) {\n    var option = arguments[i];\n\n    if (option === undefined) {\n      continue;\n    }\n\n    if (!isOptionObject(option)) {\n      throw new TypeError('`' + option + '` is not an Option Object');\n    }\n\n    merged = merge(merged, {\n      foobar: option\n    }, mergeOpts);\n  }\n\n  return merged.foobar;\n};","map":null,"metadata":{},"sourceType":"script"}
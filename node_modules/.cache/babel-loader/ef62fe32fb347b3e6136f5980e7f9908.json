{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar KeyValueStore = require('./keyValueStore');\n\nvar ProfileStore =\n/*#__PURE__*/\nfunction (_KeyValueStore) {\n  (0, _inherits2.default)(ProfileStore, _KeyValueStore);\n\n  function ProfileStore(orbitdb, name, linkProfile, ensureConnected) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, ProfileStore);\n    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(ProfileStore).call(this, orbitdb, name, ensureConnected));\n    _this._linkProfile = linkProfile;\n    return _this;\n  }\n\n  (0, _createClass2.default)(ProfileStore, [{\n    key: \"set\",\n    value: function () {\n      var _set = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee(key, value) {\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this._linkProfile();\n\n                return _context.abrupt(\"return\", (0, _get2.default)((0, _getPrototypeOf2.default)(ProfileStore.prototype), \"set\", this).call(this, key, value));\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function set(_x, _x2) {\n        return _set.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"all\",\n    value: function () {\n      var _all = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee2() {\n        var entries, allSimple;\n        return _regenerator.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                (0, _get2.default)((0, _getPrototypeOf2.default)(ProfileStore.prototype), \"_requireLoad\", this).call(this);\n                _context2.next = 3;\n                return this._db.all();\n\n              case 3:\n                entries = _context2.sent;\n                allSimple = {};\n                Object.keys(entries).map(function (key) {\n                  allSimple[key] = entries[key].value;\n                });\n                return _context2.abrupt(\"return\", allSimple);\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function all() {\n        return _all.apply(this, arguments);\n      };\n    }()\n  }]);\n  return ProfileStore;\n}(KeyValueStore);\n\nmodule.exports = ProfileStore;","map":null,"metadata":{},"sourceType":"script"}
{"ast":null,"code":"'use strict';\n\nvar through = require('pull-through');\n\nvar DEFAULT_MAX_LENGTH = 100;\n\nmodule.exports = function block(_maxLength) {\n  var maxLength = _maxLength || DEFAULT_MAX_LENGTH;\n  var buffered = [];\n  return through(function transform(data) {\n    buffered = buffered.concat(data);\n\n    while (buffered.length >= maxLength) {\n      var end = maxLength;\n      var slice = buffered.slice(0, end);\n      buffered = buffered.slice(end);\n      this.queue(slice);\n    }\n  }, function flush(end) {\n    if (buffered.length) {\n      this.queue(buffered);\n      buffered = [];\n    }\n\n    this.queue(null);\n  });\n};","map":null,"metadata":{},"sourceType":"script"}
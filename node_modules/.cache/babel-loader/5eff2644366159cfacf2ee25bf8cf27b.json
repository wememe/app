{"ast":null,"code":"'use strict';\n\nvar doWhilst = require('async/doWhilst');\n\nvar addLink = require('./add-link');\n\nvar updateTree = function updateTree(ipfs, child, callback) {\n  doWhilst(function (next) {\n    if (!child.parent) {\n      var lastChild = child;\n      child = null;\n      return next(null, lastChild);\n    }\n\n    addLink(ipfs, {\n      parent: child.parent.node,\n      child: child.node,\n      name: child.name,\n      flush: true\n    }, function (error, updatedParent) {\n      child.parent.node = updatedParent;\n      var lastChild = child;\n      child = child.parent;\n      next(error, lastChild);\n    });\n  }, function () {\n    return Boolean(child);\n  }, callback);\n};\n\nmodule.exports = updateTree;","map":null,"metadata":{},"sourceType":"script"}
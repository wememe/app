{"ast":null,"code":"'use strict'; // See https://github.com/ipfs/specs/tree/master/keystore\n\nvar promisify = require('promisify-es6');\n\nmodule.exports = function key(self) {\n  return {\n    gen: promisify(function (name, opts, callback) {\n      opts = opts || {};\n\n      self._keychain.createKey(name, opts.type, opts.size, callback);\n    }),\n    info: promisify(function (name, callback) {\n      self._keychain.findKeyByName(name, callback);\n    }),\n    list: promisify(function (callback) {\n      self._keychain.listKeys(callback);\n    }),\n    rm: promisify(function (name, callback) {\n      self._keychain.removeKey(name, callback);\n    }),\n    rename: promisify(function (oldName, newName, callback) {\n      self._keychain.renameKey(oldName, newName, function (err, key) {\n        if (err) return callback(err);\n        var result = {\n          was: oldName,\n          now: key.name,\n          id: key.id,\n          overwrite: false\n        };\n        callback(null, result);\n      });\n    }),\n    import: promisify(function (name, pem, password, callback) {\n      self._keychain.importKey(name, pem, password, callback);\n    }),\n    export: promisify(function (name, password, callback) {\n      self._keychain.exportKey(name, password, callback);\n    })\n  };\n};","map":null,"metadata":{},"sourceType":"script"}
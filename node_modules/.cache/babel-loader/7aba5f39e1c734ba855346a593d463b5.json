{"ast":null,"code":"'use strict';\n\nvar waterfall = require('async/waterfall');\n\nvar _require = require('ipld-dag-pb'),\n    DAGNode = _require.DAGNode;\n\nvar defaultOptions = {\n  format: 'dag-pb',\n  hashAlg: 'sha2-256'\n};\n\nvar createNode = function createNode(ipfs, data, links, options, callback) {\n  options = Object.assign({}, defaultOptions, options);\n  waterfall([// Create a DAGNode with the new data\n  function (cb) {\n    return DAGNode.create(data, links, cb);\n  }, function (newNode, cb) {\n    // Persist it\n    ipfs.dag.put(newNode, {\n      format: options.format,\n      hashAlg: options.hashAlg\n    }, function (error) {\n      return cb(error, newNode);\n    });\n  }], callback);\n};\n\nmodule.exports = createNode;","map":null,"metadata":{},"sourceType":"script"}
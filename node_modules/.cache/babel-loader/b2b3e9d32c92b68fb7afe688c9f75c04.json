{"ast":null,"code":"'use strict';\n\nvar debug = require('debug');\n\nvar log = debug('jsipfs:state');\nlog.error = debug('jsipfs:state:error');\n\nvar fsm = require('fsm-event');\n\nmodule.exports = function (self) {\n  var s = fsm('uninitialized', {\n    uninitialized: {\n      init: 'initializing',\n      initialized: 'stopped'\n    },\n    initializing: {\n      initialized: 'stopped'\n    },\n    stopped: {\n      start: 'starting'\n    },\n    starting: {\n      started: 'running'\n    },\n    running: {\n      stop: 'stopping'\n    },\n    stopping: {\n      stopped: 'stopped'\n    }\n  }); // log events\n\n  s.on('error', function (err) {\n    return log.error(err);\n  });\n  s.on('done', function () {\n    return log('-> ' + s._state);\n  }); // -- Actions\n\n  s.init = function () {\n    s('init');\n  };\n\n  s.initialized = function () {\n    s('initialized');\n  };\n\n  s.stop = function () {\n    s('stop');\n  };\n\n  s.stopped = function () {\n    s('stopped');\n  };\n\n  s.start = function () {\n    s('start');\n  };\n\n  s.started = function () {\n    s('started');\n  };\n\n  s.state = function () {\n    return s._state;\n  };\n\n  return s;\n};","map":null,"metadata":{},"sourceType":"script"}
{"ast":null,"code":"'use strict';\n\nvar semver = require('semver');\n/**\n * Match protocols using semver `~` matching.\n *\n * @param {string} myProtocol\n * @param {string} senderProtocol\n * @param {function(Error, boolean)} callback\n * @returns {undefined}\n * @type {matchHandler}\n */\n\n\nfunction matchSemver(myProtocol, senderProtocol, callback) {\n  var mps = myProtocol.split('/');\n  var sps = senderProtocol.split('/');\n  var myName = mps[1];\n  var myVersion = mps[2];\n  var senderName = sps[1];\n  var senderVersion = sps[2];\n\n  if (myName !== senderName) {\n    return callback(null, false);\n  } // does my protocol satisfy the sender?\n\n\n  var valid = semver.satisfies(myVersion, '~' + senderVersion);\n  callback(null, valid);\n}\n\nmodule.exports = matchSemver;","map":null,"metadata":{},"sourceType":"script"}
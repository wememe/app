{"ast":null,"code":"'use strict';\n\nvar _require = require('./constants'),\n    FILE_SEPARATOR = _require.FILE_SEPARATOR;\n\nvar IPFS_PREFIX = '/ipfs';\n\nvar validatePath = function validatePath(path, callback) {\n  path = (path || '').trim();\n\n  if (!path) {\n    return callback(new Error('paths must not be empty'));\n  }\n\n  if (path.substring(0, 1) !== FILE_SEPARATOR) {\n    return callback(new Error(\"paths must start with a leading \".concat(FILE_SEPARATOR)));\n  }\n\n  if (path.substring(path.length - FILE_SEPARATOR.length) === FILE_SEPARATOR) {\n    path = path.substring(0, path.length - FILE_SEPARATOR.length);\n  }\n\n  var parts = path.split(FILE_SEPARATOR).filter(Boolean);\n  var name = parts.pop();\n  var directory = \"\".concat(FILE_SEPARATOR).concat(parts.join(FILE_SEPARATOR));\n\n  if (path.substring(0, IPFS_PREFIX.length) === IPFS_PREFIX) {\n    return callback(null, {\n      type: 'ipfs',\n      path: path.substring(IPFS_PREFIX.length + 1),\n      directory: directory,\n      name: name\n    });\n  }\n\n  callback(null, {\n    type: 'mfs',\n    path: path || FILE_SEPARATOR,\n    directory: directory,\n    name: name\n  });\n};\n\nmodule.exports = validatePath;","map":null,"metadata":{},"sourceType":"script"}
{"ast":null,"code":"'use strict';\n\nvar Key = require('interface-datastore').Key;\n\nvar Buffer = require('safe-buffer').Buffer;\n\nvar apiFile = new Key('api');\n\nmodule.exports = function (store) {\n  return {\n    /**\n     * Get the current configuration from the repo.\n     *\n     * @param {function(Error, Object)} callback\n     * @returns {void}\n     */\n    get: function get(callback) {\n      store.get(apiFile, function (err, value) {\n        return callback(err, value && value.toString());\n      });\n    },\n\n    /**\n     * Set the current configuration for this repo.\n     *\n     * @param {Object} value - the api address to be written\n     * @param {function(Error)} callback\n     * @returns {void}\n     */\n    set: function set(value, callback) {\n      store.put(apiFile, Buffer.from(value.toString()), callback);\n    },\n\n    /**\n     * Deletes api file\n     *\n     * @param {function(Error, bool)} callback\n     * @returns {void}\n     */\n    delete: function _delete(callback) {\n      store.delete(apiFile, callback);\n    }\n  };\n};","map":null,"metadata":{},"sourceType":"script"}
{"ast":null,"code":"import _readOnlyError from \"/Users/kenzo/Desktop/app/node_modules/@babel/runtime/helpers/esm/readOnlyError\";\nimport { store } from '../state/store';\nvar abi = [{\n  \"anonymous\": false,\n  \"inputs\": [{\n    \"indexed\": true,\n    \"name\": \"_owner\",\n    \"type\": \"address\"\n  }, {\n    \"indexed\": true,\n    \"name\": \"_operator\",\n    \"type\": \"address\"\n  }, {\n    \"indexed\": false,\n    \"name\": \"_approved\",\n    \"type\": \"bool\"\n  }],\n  \"name\": \"ApprovalForAll\",\n  \"type\": \"event\"\n}, {\n  \"constant\": false,\n  \"inputs\": [{\n    \"name\": \"_to\",\n    \"type\": \"address\"\n  }, {\n    \"name\": \"_tokenId\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"approve\",\n  \"outputs\": [],\n  \"payable\": false,\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"anonymous\": false,\n  \"inputs\": [{\n    \"indexed\": true,\n    \"name\": \"_owner\",\n    \"type\": \"address\"\n  }, {\n    \"indexed\": true,\n    \"name\": \"_approved\",\n    \"type\": \"address\"\n  }, {\n    \"indexed\": true,\n    \"name\": \"_tokenId\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"Approval\",\n  \"type\": \"event\"\n}, {\n  \"constant\": false,\n  \"inputs\": [{\n    \"name\": \"id\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"buy\",\n  \"outputs\": [],\n  \"payable\": true,\n  \"stateMutability\": \"payable\",\n  \"type\": \"function\"\n}, {\n  \"anonymous\": false,\n  \"inputs\": [{\n    \"indexed\": true,\n    \"name\": \"_from\",\n    \"type\": \"address\"\n  }, {\n    \"indexed\": true,\n    \"name\": \"_to\",\n    \"type\": \"address\"\n  }, {\n    \"indexed\": true,\n    \"name\": \"_tokenId\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"Transfer\",\n  \"type\": \"event\"\n}, {\n  \"anonymous\": false,\n  \"inputs\": [{\n    \"indexed\": false,\n    \"name\": \"id\",\n    \"type\": \"uint256\"\n  }, {\n    \"indexed\": false,\n    \"name\": \"amount\",\n    \"type\": \"uint256\"\n  }, {\n    \"indexed\": false,\n    \"name\": \"totalCost\",\n    \"type\": \"uint256\"\n  }, {\n    \"indexed\": false,\n    \"name\": \"content\",\n    \"type\": \"string\"\n  }],\n  \"name\": \"Memed\",\n  \"type\": \"event\"\n}, {\n  \"anonymous\": false,\n  \"inputs\": [{\n    \"indexed\": false,\n    \"name\": \"id\",\n    \"type\": \"uint256\"\n  }, {\n    \"indexed\": false,\n    \"name\": \"creator\",\n    \"type\": \"address\"\n  }, {\n    \"indexed\": false,\n    \"name\": \"amount\",\n    \"type\": \"uint256\"\n  }, {\n    \"indexed\": false,\n    \"name\": \"reward\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"Rewarded\",\n  \"type\": \"event\"\n}, {\n  \"constant\": false,\n  \"inputs\": [{\n    \"name\": \"id\",\n    \"type\": \"uint256\"\n  }, {\n    \"name\": \"numTokens\",\n    \"type\": \"uint256\"\n  }, {\n    \"name\": \"_content\",\n    \"type\": \"string\"\n  }],\n  \"name\": \"meme\",\n  \"outputs\": [],\n  \"payable\": true,\n  \"stateMutability\": \"payable\",\n  \"type\": \"function\"\n}, {\n  \"constant\": false,\n  \"inputs\": [{\n    \"name\": \"id\",\n    \"type\": \"uint256\"\n  }, {\n    \"name\": \"numTokens\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"priceToMint\",\n  \"outputs\": [{\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"payable\": false,\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"constant\": false,\n  \"inputs\": [{\n    \"name\": \"id\",\n    \"type\": \"uint256\"\n  }, {\n    \"name\": \"numTokens\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"rewardForBurn\",\n  \"outputs\": [{\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"payable\": false,\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"constant\": false,\n  \"inputs\": [{\n    \"name\": \"_from\",\n    \"type\": \"address\"\n  }, {\n    \"name\": \"_to\",\n    \"type\": \"address\"\n  }, {\n    \"name\": \"_tokenId\",\n    \"type\": \"uint256\"\n  }, {\n    \"name\": \"_data\",\n    \"type\": \"bytes\"\n  }],\n  \"name\": \"safeTransferFrom\",\n  \"outputs\": [],\n  \"payable\": false,\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"constant\": false,\n  \"inputs\": [{\n    \"name\": \"_from\",\n    \"type\": \"address\"\n  }, {\n    \"name\": \"_to\",\n    \"type\": \"address\"\n  }, {\n    \"name\": \"_tokenId\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"safeTransferFrom\",\n  \"outputs\": [],\n  \"payable\": false,\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"constant\": false,\n  \"inputs\": [{\n    \"name\": \"_to\",\n    \"type\": \"address\"\n  }, {\n    \"name\": \"_approved\",\n    \"type\": \"bool\"\n  }],\n  \"name\": \"setApprovalForAll\",\n  \"outputs\": [],\n  \"payable\": false,\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"constant\": false,\n  \"inputs\": [{\n    \"name\": \"_from\",\n    \"type\": \"address\"\n  }, {\n    \"name\": \"_to\",\n    \"type\": \"address\"\n  }, {\n    \"name\": \"_tokenId\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"transferFrom\",\n  \"outputs\": [],\n  \"payable\": false,\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"payable\": false,\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"constructor\"\n}, {\n  \"constant\": true,\n  \"inputs\": [{\n    \"name\": \"_owner\",\n    \"type\": \"address\"\n  }],\n  \"name\": \"balanceOf\",\n  \"outputs\": [{\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"payable\": false,\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"constant\": true,\n  \"inputs\": [{\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }, {\n    \"name\": \"\",\n    \"type\": \"address\"\n  }],\n  \"name\": \"balances\",\n  \"outputs\": [{\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"payable\": false,\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"constant\": true,\n  \"inputs\": [{\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"content\",\n  \"outputs\": [{\n    \"name\": \"\",\n    \"type\": \"string\"\n  }],\n  \"payable\": false,\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"constant\": true,\n  \"inputs\": [{\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }, {\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"creators\",\n  \"outputs\": [{\n    \"name\": \"\",\n    \"type\": \"address\"\n  }],\n  \"payable\": false,\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"constant\": true,\n  \"inputs\": [{\n    \"name\": \"_tokenId\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"exists\",\n  \"outputs\": [{\n    \"name\": \"\",\n    \"type\": \"bool\"\n  }],\n  \"payable\": false,\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"constant\": true,\n  \"inputs\": [{\n    \"name\": \"_tokenId\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"getApproved\",\n  \"outputs\": [{\n    \"name\": \"\",\n    \"type\": \"address\"\n  }],\n  \"payable\": false,\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"constant\": true,\n  \"inputs\": [],\n  \"name\": \"InterfaceId_ERC165\",\n  \"outputs\": [{\n    \"name\": \"\",\n    \"type\": \"bytes4\"\n  }],\n  \"payable\": false,\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"constant\": true,\n  \"inputs\": [{\n    \"name\": \"_owner\",\n    \"type\": \"address\"\n  }, {\n    \"name\": \"_operator\",\n    \"type\": \"address\"\n  }],\n  \"name\": \"isApprovedForAll\",\n  \"outputs\": [{\n    \"name\": \"\",\n    \"type\": \"bool\"\n  }],\n  \"payable\": false,\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"constant\": true,\n  \"inputs\": [],\n  \"name\": \"name\",\n  \"outputs\": [{\n    \"name\": \"\",\n    \"type\": \"string\"\n  }],\n  \"payable\": false,\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"constant\": true,\n  \"inputs\": [{\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"num\",\n  \"outputs\": [{\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"payable\": false,\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"constant\": true,\n  \"inputs\": [{\n    \"name\": \"_tokenId\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"ownerOf\",\n  \"outputs\": [{\n    \"name\": \"\",\n    \"type\": \"address\"\n  }],\n  \"payable\": false,\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"constant\": true,\n  \"inputs\": [{\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"poolBalance\",\n  \"outputs\": [{\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"payable\": false,\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"constant\": true,\n  \"inputs\": [{\n    \"name\": \"_interfaceId\",\n    \"type\": \"bytes4\"\n  }],\n  \"name\": \"supportsInterface\",\n  \"outputs\": [{\n    \"name\": \"\",\n    \"type\": \"bool\"\n  }],\n  \"payable\": false,\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"constant\": true,\n  \"inputs\": [],\n  \"name\": \"symbol\",\n  \"outputs\": [{\n    \"name\": \"\",\n    \"type\": \"string\"\n  }],\n  \"payable\": false,\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"constant\": true,\n  \"inputs\": [{\n    \"name\": \"_index\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"tokenByIndex\",\n  \"outputs\": [{\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"payable\": false,\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"constant\": true,\n  \"inputs\": [{\n    \"name\": \"_owner\",\n    \"type\": \"address\"\n  }, {\n    \"name\": \"_index\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"tokenOfOwnerByIndex\",\n  \"outputs\": [{\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"payable\": false,\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"constant\": true,\n  \"inputs\": [{\n    \"name\": \"_tokenId\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"tokenURI\",\n  \"outputs\": [{\n    \"name\": \"\",\n    \"type\": \"string\"\n  }],\n  \"payable\": false,\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"constant\": true,\n  \"inputs\": [],\n  \"name\": \"topId\",\n  \"outputs\": [{\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"payable\": false,\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"constant\": true,\n  \"inputs\": [],\n  \"name\": \"totalSupply\",\n  \"outputs\": [{\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"payable\": false,\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"constant\": true,\n  \"inputs\": [{\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"totalSupply_\",\n  \"outputs\": [{\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"payable\": false,\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}, {\n  \"constant\": true,\n  \"inputs\": [],\n  \"name\": \"wememe\",\n  \"outputs\": [{\n    \"name\": \"\",\n    \"type\": \"address\"\n  }],\n  \"payable\": false,\n  \"stateMutability\": \"view\",\n  \"type\": \"function\"\n}]; // ethereum.enable().then(addrs => {\n//   const addr = addrs[0]\n//   const asdf = 234\n//   user.innerHTML = `<threebox-address data-address='${addr}'></threebox-address>`\n//   const Wememe = web3.eth.contract(abi);\n//   const wememe = Wememe.at('0x7B55a715AD5e82956CA6F3093D7Eb3C16C308a78')\n//   shares.addEventListener('change', (e, r) => {\n//     wememe.priceToMint.call(pid.value, shares.value, {}, (e, price) => {\n//       wei.value = web3.fromWei(price, 'ether')\n//     })\n//   })\n//   meme.addEventListener('click', () => {\n//     wememe.priceToMint.call(mid.value, numShares.value, {}, (e, price) => {\n//       wememe.meme(mid.value, numShares.value, contentHash.value, {\n//         from: addr,\n//         value: price\n//       }, (e, tx) => {\n//         console.log('meme', tx)\n//       })\n//     })\n//   })\n//   buyMeme.addEventListener('click', () => {\n//     wememe.poolBalance.call(buyId.value, (e, price) => {\n//       wememe.buy(buyId.value, {\n//         from: addr,\n//         value: price\n//       }, (e, tx) => {\n//         console.log('buy', tx)\n//       })\n//     })\n//   })\n//   wememe.topId.call((e, r) => {\n//     const num = r.toNumber()\n//     for (let i = 0; i < num; i++) {\n//       wememe.num.call(i, (e, num) => {\n//         wememe.content.call(i, (e, content) => {\n//           wememe.poolBalance.call(i, (e, staked) => {\n//             if (num < 3) {\n//               memeData.innerHTML += `<div>id: ${i}, contribs: ${num}, content: ${content}, weiStaked: ${staked}  </div>`\n//             } else {\n//               if (staked.toNumber() === 0) {\n//                 wememe.ownerOf.call(i, (e, owner) => {\n//                   memeGallery.innerHTML += `<div>id: ${i}, content: ${content}, owner: ${owner}  </div>`\n//                 })\n//               } else {\n//                 memeStore.innerHTML += `<div>id: ${i}, content: ${content}, weiPrice: ${staked}  </div>`\n//               }\n//             }\n//           })\n//         })\n//       })\n//     }\n//   })\n// })\n\nexport var startWeMeme = function startWeMeme() {\n  ethereum.enable().then(function (addrs) {\n    // eslint-disable-line no-undef\n    var address = addrs[0];\n    var Wememe = web3.eth.contract(abi); // eslint-disable-line no-undef\n\n    var wememeContract = Wememe.at('0x7B55a715AD5e82956CA6F3093D7Eb3C16C308a78');\n    Box.getProfile(address).then(function (res) {\n      // eslint-disable-line no-undef\n      var profile = res;\n      store.dispatch({\n        type: 'WEMEME_CONTRACT',\n        wememeContract: wememeContract,\n        address: address,\n        profile: profile\n      });\n    }).catch(function (err) {\n      store.dispatch({\n        type: 'WEMEME_CONTRACT',\n        wememeContract: wememeContract,\n        address: address\n      });\n    });\n  });\n};\nexport var getMemes = function getMemes() {\n  var wememeContract = store.getState().threeBox.wememeContract;\n  wememeContract.topId.call(function (e, r) {\n    var num = r.toNumber();\n    var forDraw = [];\n    var forCaption = [];\n    var forSale = [];\n    var forGallery = [];\n    var count = 0;\n\n    var checkEndAndUpdateState = function checkEndAndUpdateState(num) {\n      _readOnlyError(\"count\"), count++;\n\n      if (count === num) {\n        store.dispatch({\n          type: 'UPDATE_MEMES',\n          forDraw: forDraw,\n          forCaption: forCaption,\n          forSale: forSale,\n          forGallery: forGallery\n        });\n      }\n    };\n\n    var _loop = function _loop(i) {\n      wememeContract.num.call(i, function (e, num) {\n        wememeContract.content.call(i, function (e, content) {\n          wememeContract.poolBalance.call(i, function (e, staked) {\n            if (num === 1) {\n              // for draw\n              forDraw.push({\n                id: i,\n                content: content,\n                staked: staked\n              });\n              checkEndAndUpdateState(num);\n            } else if (num === 2) {\n              // for caption\n              forCaption.push({\n                id: i,\n                content: content,\n                staked: staked\n              });\n              checkEndAndUpdateState(num);\n            } else {\n              if (staked.toNumber() === 0) {\n                // already sold\n                wememeContract.ownerOf.call(i, function (e, owner) {\n                  forGallery.push({\n                    id: i,\n                    content: content,\n                    owner: owner\n                  });\n                });\n                checkEndAndUpdateState(num);\n              } else {\n                // available for purchase\n                forSale.push({\n                  id: i,\n                  content: content,\n                  price: staked\n                });\n                checkEndAndUpdateState(num);\n              }\n            }\n          });\n        });\n      });\n    };\n\n    for (var i = 0; i < num; i++) {\n      _loop(i);\n    }\n  });\n};","map":{"version":3,"sources":["/Users/kenzo/Desktop/app/src/utils/smartContract.js"],"names":["store","abi","startWeMeme","ethereum","enable","then","addrs","address","Wememe","web3","eth","contract","wememeContract","at","Box","getProfile","res","profile","dispatch","type","catch","err","getMemes","getState","threeBox","topId","call","e","r","num","toNumber","forDraw","forCaption","forSale","forGallery","count","checkEndAndUpdateState","i","content","poolBalance","staked","push","id","ownerOf","owner","price"],"mappings":"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","sourcesContent":["import {\n  store\n} from '../state/store';\n\nconst abi = [{\n    \"anonymous\": false,\n    \"inputs\": [{\n        \"indexed\": true,\n        \"name\": \"_owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_operator\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"_approved\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"name\": \"ApprovalForAll\",\n    \"type\": \"event\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [{\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"approve\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [{\n        \"indexed\": true,\n        \"name\": \"_owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_approved\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"Approval\",\n    \"type\": \"event\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [{\n      \"name\": \"id\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"buy\",\n    \"outputs\": [],\n    \"payable\": true,\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [{\n        \"indexed\": true,\n        \"name\": \"_from\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"Transfer\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [{\n        \"indexed\": false,\n        \"name\": \"id\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"amount\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"totalCost\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"content\",\n        \"type\": \"string\"\n      }\n    ],\n    \"name\": \"Memed\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [{\n        \"indexed\": false,\n        \"name\": \"id\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"creator\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"amount\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": false,\n        \"name\": \"reward\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"Rewarded\",\n    \"type\": \"event\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [{\n        \"name\": \"id\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"numTokens\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"_content\",\n        \"type\": \"string\"\n      }\n    ],\n    \"name\": \"meme\",\n    \"outputs\": [],\n    \"payable\": true,\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [{\n        \"name\": \"id\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"numTokens\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"priceToMint\",\n    \"outputs\": [{\n      \"name\": \"\",\n      \"type\": \"uint256\"\n    }],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [{\n        \"name\": \"id\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"numTokens\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"rewardForBurn\",\n    \"outputs\": [{\n      \"name\": \"\",\n      \"type\": \"uint256\"\n    }],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [{\n        \"name\": \"_from\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"_data\",\n        \"type\": \"bytes\"\n      }\n    ],\n    \"name\": \"safeTransferFrom\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [{\n        \"name\": \"_from\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"safeTransferFrom\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [{\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_approved\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"name\": \"setApprovalForAll\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [{\n        \"name\": \"_from\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"transferFrom\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"constructor\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [{\n      \"name\": \"_owner\",\n      \"type\": \"address\"\n    }],\n    \"name\": \"balanceOf\",\n    \"outputs\": [{\n      \"name\": \"\",\n      \"type\": \"uint256\"\n    }],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [{\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"balances\",\n    \"outputs\": [{\n      \"name\": \"\",\n      \"type\": \"uint256\"\n    }],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [{\n      \"name\": \"\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"content\",\n    \"outputs\": [{\n      \"name\": \"\",\n      \"type\": \"string\"\n    }],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [{\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"creators\",\n    \"outputs\": [{\n      \"name\": \"\",\n      \"type\": \"address\"\n    }],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [{\n      \"name\": \"_tokenId\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"exists\",\n    \"outputs\": [{\n      \"name\": \"\",\n      \"type\": \"bool\"\n    }],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [{\n      \"name\": \"_tokenId\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"getApproved\",\n    \"outputs\": [{\n      \"name\": \"\",\n      \"type\": \"address\"\n    }],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"InterfaceId_ERC165\",\n    \"outputs\": [{\n      \"name\": \"\",\n      \"type\": \"bytes4\"\n    }],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [{\n        \"name\": \"_owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_operator\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"isApprovedForAll\",\n    \"outputs\": [{\n      \"name\": \"\",\n      \"type\": \"bool\"\n    }],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"name\",\n    \"outputs\": [{\n      \"name\": \"\",\n      \"type\": \"string\"\n    }],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [{\n      \"name\": \"\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"num\",\n    \"outputs\": [{\n      \"name\": \"\",\n      \"type\": \"uint256\"\n    }],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [{\n      \"name\": \"_tokenId\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"ownerOf\",\n    \"outputs\": [{\n      \"name\": \"\",\n      \"type\": \"address\"\n    }],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [{\n      \"name\": \"\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"poolBalance\",\n    \"outputs\": [{\n      \"name\": \"\",\n      \"type\": \"uint256\"\n    }],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [{\n      \"name\": \"_interfaceId\",\n      \"type\": \"bytes4\"\n    }],\n    \"name\": \"supportsInterface\",\n    \"outputs\": [{\n      \"name\": \"\",\n      \"type\": \"bool\"\n    }],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"symbol\",\n    \"outputs\": [{\n      \"name\": \"\",\n      \"type\": \"string\"\n    }],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [{\n      \"name\": \"_index\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"tokenByIndex\",\n    \"outputs\": [{\n      \"name\": \"\",\n      \"type\": \"uint256\"\n    }],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [{\n        \"name\": \"_owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"name\": \"_index\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"tokenOfOwnerByIndex\",\n    \"outputs\": [{\n      \"name\": \"\",\n      \"type\": \"uint256\"\n    }],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [{\n      \"name\": \"_tokenId\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"tokenURI\",\n    \"outputs\": [{\n      \"name\": \"\",\n      \"type\": \"string\"\n    }],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"topId\",\n    \"outputs\": [{\n      \"name\": \"\",\n      \"type\": \"uint256\"\n    }],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"totalSupply\",\n    \"outputs\": [{\n      \"name\": \"\",\n      \"type\": \"uint256\"\n    }],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [{\n      \"name\": \"\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"totalSupply_\",\n    \"outputs\": [{\n      \"name\": \"\",\n      \"type\": \"uint256\"\n    }],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"wememe\",\n    \"outputs\": [{\n      \"name\": \"\",\n      \"type\": \"address\"\n    }],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }\n]\n\n// ethereum.enable().then(addrs => {\n//   const addr = addrs[0]\n//   const asdf = 234\n//   user.innerHTML = `<threebox-address data-address='${addr}'></threebox-address>`\n//   const Wememe = web3.eth.contract(abi);\n//   const wememe = Wememe.at('0x7B55a715AD5e82956CA6F3093D7Eb3C16C308a78')\n\n//   shares.addEventListener('change', (e, r) => {\n//     wememe.priceToMint.call(pid.value, shares.value, {}, (e, price) => {\n//       wei.value = web3.fromWei(price, 'ether')\n//     })\n//   })\n\n//   meme.addEventListener('click', () => {\n//     wememe.priceToMint.call(mid.value, numShares.value, {}, (e, price) => {\n//       wememe.meme(mid.value, numShares.value, contentHash.value, {\n//         from: addr,\n//         value: price\n//       }, (e, tx) => {\n//         console.log('meme', tx)\n//       })\n//     })\n//   })\n\n//   buyMeme.addEventListener('click', () => {\n//     wememe.poolBalance.call(buyId.value, (e, price) => {\n//       wememe.buy(buyId.value, {\n//         from: addr,\n//         value: price\n//       }, (e, tx) => {\n//         console.log('buy', tx)\n//       })\n//     })\n//   })\n\n//   wememe.topId.call((e, r) => {\n//     const num = r.toNumber()\n//     for (let i = 0; i < num; i++) {\n//       wememe.num.call(i, (e, num) => {\n//         wememe.content.call(i, (e, content) => {\n//           wememe.poolBalance.call(i, (e, staked) => {\n//             if (num < 3) {\n//               memeData.innerHTML += `<div>id: ${i}, contribs: ${num}, content: ${content}, weiStaked: ${staked}  </div>`\n//             } else {\n//               if (staked.toNumber() === 0) {\n//                 wememe.ownerOf.call(i, (e, owner) => {\n//                   memeGallery.innerHTML += `<div>id: ${i}, content: ${content}, owner: ${owner}  </div>`\n//                 })\n//               } else {\n//                 memeStore.innerHTML += `<div>id: ${i}, content: ${content}, weiPrice: ${staked}  </div>`\n//               }\n//             }\n//           })\n//         })\n//       })\n//     }\n//   })\n// })\n\nexport const startWeMeme = () => {\n  ethereum.enable().then(addrs => { // eslint-disable-line no-undef\n    const address = addrs[0]\n    const Wememe = web3.eth.contract(abi); // eslint-disable-line no-undef\n    const wememeContract = Wememe.at('0x7B55a715AD5e82956CA6F3093D7Eb3C16C308a78')\n\n    Box.getProfile(address).then(res => { // eslint-disable-line no-undef\n      const profile = res;\n      store.dispatch({\n        type: 'WEMEME_CONTRACT',\n        wememeContract,\n        address,\n        profile,\n      })\n    }).catch(err => {\n      store.dispatch({\n        type: 'WEMEME_CONTRACT',\n        wememeContract,\n        address,\n      })\n    })\n  })\n}\n\nexport const getMemes = () => {\n  const wememeContract = store.getState().threeBox.wememeContract;\n\n  wememeContract.topId.call((e, r) => {\n    const num = r.toNumber()\n    const forDraw = [];\n    const forCaption = [];\n    const forSale = [];\n    const forGallery = [];\n    const count = 0;\n\n    const checkEndAndUpdateState = (num) => {\n      count++;\n      if (count === num) {\n        store.dispatch({\n          type: 'UPDATE_MEMES',\n          forDraw,\n          forCaption,\n          forSale,\n          forGallery,\n        })\n      }\n    }\n\n    for (let i = 0; i < num; i++) {\n      wememeContract.num.call(i, (e, num) => {\n        wememeContract.content.call(i, (e, content) => {\n          wememeContract.poolBalance.call(i, (e, staked) => {\n            if (num === 1) {\n              // for draw\n              forDraw.push({\n                id: i,\n                content,\n                staked,\n              })\n              checkEndAndUpdateState(num);\n            } else if (num === 2) {\n              // for caption\n              forCaption.push({\n                id: i,\n                content,\n                staked,\n              })\n              checkEndAndUpdateState(num);\n            } else {\n              if (staked.toNumber() === 0) {\n                // already sold\n                wememeContract.ownerOf.call(i, (e, owner) => {\n                  forGallery.push({\n                    id: i,\n                    content,\n                    owner,\n                  })\n                })\n                checkEndAndUpdateState(num);\n              } else {\n                // available for purchase\n                forSale.push({\n                  id: i,\n                  content,\n                  price: staked,\n                })\n                checkEndAndUpdateState(num);\n              }\n            }\n          })\n        })\n      })\n    }\n  })\n}"]},"metadata":{},"sourceType":"module"}
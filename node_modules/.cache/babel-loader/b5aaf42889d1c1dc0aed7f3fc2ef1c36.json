{"ast":null,"code":"'use strict';\n\nvar dagNodeUtil = require('./util');\n\nvar cloneLinks = dagNodeUtil.cloneLinks;\nvar cloneData = dagNodeUtil.cloneData;\n\nvar create = require('./create');\n\nfunction rmLink(dagNode, nameOrMultihash, callback) {\n  var data = cloneData(dagNode);\n  var links = cloneLinks(dagNode);\n\n  if (typeof nameOrMultihash === 'string') {\n    links = links.filter(function (link) {\n      return link.name !== nameOrMultihash;\n    });\n  } else if (Buffer.isBuffer(nameOrMultihash)) {\n    links = links.filter(function (link) {\n      return !link.multihash.equals(nameOrMultihash);\n    });\n  } else {\n    return callback(new Error('second arg needs to be a name or multihash'), null);\n  }\n\n  create(data, links, callback);\n}\n\nmodule.exports = rmLink;","map":null,"metadata":{},"sourceType":"script"}
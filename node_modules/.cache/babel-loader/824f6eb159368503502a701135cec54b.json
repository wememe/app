{"ast":null,"code":"module.exports = function Catch(onError) {\n  onError = onError || function noop() {};\n\n  var errd;\n  return function sink(read) {\n    return function source(abort, cb) {\n      read(abort, function onNext(end, data) {\n        if (errd) return cb(true);\n\n        if (end && end !== true) {\n          // if error\n          var _end = onError(end);\n\n          if (_end === false) return cb(end);\n\n          if (_end && _end !== true) {\n            errd = true;\n            return cb(null, _end);\n          }\n\n          return cb(true);\n        }\n\n        cb(end, data);\n      });\n    };\n  };\n};","map":null,"metadata":{},"sourceType":"script"}
{"ast":null,"code":"'use strict';\n\nvar debug = require('debug');\n\nvar log = debug('libp2p:websockets:dialer');\n\nfunction maToUrl(ma) {\n  var maStrSplit = ma.toString().split('/');\n  var proto;\n\n  try {\n    proto = ma.protoNames().filter(function (proto) {\n      return proto === 'ws' || proto === 'wss';\n    })[0];\n  } catch (e) {\n    log(e);\n    throw new Error('Not a valid websocket address', e);\n  }\n\n  var port;\n\n  try {\n    port = ma.stringTuples().filter(function (tuple) {\n      if (tuple[0] === ma.protos().filter(function (proto) {\n        return proto.name === 'tcp';\n      })[0].code) {\n        return true;\n      }\n    })[0][1];\n  } catch (e) {\n    log('No port, skipping');\n  }\n\n  var url = \"\".concat(proto, \"://\").concat(maStrSplit[2]).concat(port && (port !== 80 || port !== 443) ? \":\".concat(port) : '');\n  return url;\n}\n\nmodule.exports = maToUrl;","map":null,"metadata":{},"sourceType":"script"}